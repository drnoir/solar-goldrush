const I={r:255,g:255,b:255},s=s=>(I=>"#"===I.charAt(0)&&7===I.length)(s)?(I=>({r:parseInt(I.substr(1,2),16),g:parseInt(I.substr(3,2),16),b:parseInt(I.substr(5,2),16)}))(s):(I=>I.startsWith("rgba"))(s)?(I=>{const[,s,F,U,g]=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/.exec(I);return{r:s,g:F,b:U}})(s):I,F=()=>1e3*(Math.random()-.5);class U{constructor(I,s,F){this.x=I,this.y=s,this.z=F,this.size=.5+Math.random()}}class g{config={};stars=[];constructor(I){this.ctx=I.getContext("2d")}update(I){let g=!1;for(const[C,c]of Object.entries(I))if(this.config[C]!==c){switch(C){case"width":case"height":case"starScale":g=!0;break;case"density":const I=Math.ceil(1e3*c),C=I-this.stars.length;if(C>0)for(let I=0;I<C;I++){const I=new U(F(),F(),1e3*Math.random());this.stars.push(I)}else this.stars.length=I;break;case"starColor":const B=s(c);this.starR=B.r,this.starG=B.g,this.starB=B.b}this.config[C]=c}g&&(this.size=Math.max(this.config.width,this.config.height)/(10/this.config.starScale),this.maxLineWidth=this.size/30)}draw(I){this.move(I);const s=this.config.width,F=this.config.height;this.size=Math.max(s,F)/(10/this.config.starScale);const U=this.ctx;U.fillStyle=this.config.backgroundColor,U.fillRect(0,0,s,F);for(const I of this.stars){const g=I.x/I.z,C=I.y/I.z;if(!this.config.warpEffect&&(g<-.5||g>.5||C<-.5||C>.5))continue;const c=I.size*this.size/I.z;if(!(c<.3)){if(this.config.depthAlpha){const s=(1e3-I.z)/1e3;U.fillStyle=`rgba(${this.starR}, ${this.starG}, ${this.starB}, ${s.toString()})`}else U.fillStyle=this.config.starColor;if(this.config.warpEffect){U.beginPath();const B=I.x/(I.z+this.config.warpEffectLength*this.config.speed),Q=I.y/(I.z+this.config.warpEffectLength*this.config.speed);if(B<-.5||B>.5||Q<-.5||Q>.5)continue;U.moveTo(s*(g+.5)-c/2,F*(C+.5)-c/2),U.lineTo(s*(B+.5)-c/2,F*(Q+.5)-c/2),U.lineWidth=Math.min(c,this.maxLineWidth),U.lineCap=this.config.useCircles?"round":"butt",U.strokeStyle=U.fillStyle,U.stroke()}else this.config.useCircles?(U.beginPath(),U.arc(s*(g+.5)-c/2,F*(C+.5)-c/2,c/2,0,2*Math.PI),U.fill()):U.fillRect(s*(g+.5)-c/2,F*(C+.5)-c/2,c,c)}}}move(I){const s=this.config.speed*(I/10);for(const I of this.stars)for(I.z-=s;I.z<1;)I.z+=1e3,I.x=(Math.random()-.5)*I.z,I.y=(Math.random()-.5)*I.z}}function C(I,s,F){var U=void 0===s?null:s,g=function(I,s){var F=atob(I);if(s){for(var U=new Uint8Array(F.length),g=0,C=F.length;g<C;++g)U[g]=F.charCodeAt(g);return String.fromCharCode.apply(null,new Uint16Array(U.buffer))}return F}(I,void 0!==F&&F),C=g.indexOf("\n",10)+1,c=g.substring(C)+(U?"//# sourceMappingURL="+U:""),B=new Blob([c],{type:"application/javascript"});return URL.createObjectURL(B)}var c,B,Q,i,L=(c="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y29uc3QgdD17cjoyNTUsZzoyNTUsYjoyNTV9LHM9cz0+KHQ9PiIjIj09PXQuY2hhckF0KDApJiY3PT09dC5sZW5ndGgpKHMpPyh0PT4oe3I6cGFyc2VJbnQodC5zdWJzdHIoMSwyKSwxNiksZzpwYXJzZUludCh0LnN1YnN0cigzLDIpLDE2KSxiOnBhcnNlSW50KHQuc3Vic3RyKDUsMiksMTYpfSkpKHMpOih0PT50LnN0YXJ0c1dpdGgoInJnYmEiKSkocyk/KHQ9Pntjb25zdFsscyxpLGUsbl09L15ccypyZ2JhXHMqXChccyooXGQrKVxzKixccyooXGQrKVxzKixccyooXGQrKVxzKixccyooXGQrKVxzKlwpXHMqJC8uZXhlYyh0KTtyZXR1cm57cjpzLGc6aSxiOmV9fSkocyk6dCxpPSgpPT4xZTMqKE1hdGgucmFuZG9tKCktLjUpO2NsYXNzIGV7Y29uc3RydWN0b3IodCxzLGkpe3RoaXMueD10LHRoaXMueT1zLHRoaXMuej1pLHRoaXMuc2l6ZT0uNStNYXRoLnJhbmRvbSgpfX1jbGFzcyBue2NvbmZpZz17fTtzdGFycz1bXTtjb25zdHJ1Y3Rvcih0KXt0aGlzLmN0eD10LmdldENvbnRleHQoIjJkIil9dXBkYXRlKHQpe2xldCBuPSExO2Zvcihjb25zdFtvLGFdb2YgT2JqZWN0LmVudHJpZXModCkpaWYodGhpcy5jb25maWdbb10hPT1hKXtzd2l0Y2gobyl7Y2FzZSJ3aWR0aCI6Y2FzZSJoZWlnaHQiOmNhc2Uic3RhclNjYWxlIjpuPSEwO2JyZWFrO2Nhc2UiZGVuc2l0eSI6Y29uc3QgdD1NYXRoLmNlaWwoMWUzKmEpLG89dC10aGlzLnN0YXJzLmxlbmd0aDtpZihvPjApZm9yKGxldCB0PTA7dDxvO3QrKyl7Y29uc3QgdD1uZXcgZShpKCksaSgpLDFlMypNYXRoLnJhbmRvbSgpKTt0aGlzLnN0YXJzLnB1c2godCl9ZWxzZSB0aGlzLnN0YXJzLmxlbmd0aD10O2JyZWFrO2Nhc2Uic3RhckNvbG9yIjpjb25zdCBoPXMoYSk7dGhpcy5zdGFyUj1oLnIsdGhpcy5zdGFyRz1oLmcsdGhpcy5zdGFyQj1oLmJ9dGhpcy5jb25maWdbb109YX1uJiYodGhpcy5zaXplPU1hdGgubWF4KHRoaXMuY29uZmlnLndpZHRoLHRoaXMuY29uZmlnLmhlaWdodCkvKDEwL3RoaXMuY29uZmlnLnN0YXJTY2FsZSksdGhpcy5tYXhMaW5lV2lkdGg9dGhpcy5zaXplLzMwKX1kcmF3KHQpe3RoaXMubW92ZSh0KTtjb25zdCBzPXRoaXMuY29uZmlnLndpZHRoLGk9dGhpcy5jb25maWcuaGVpZ2h0O3RoaXMuc2l6ZT1NYXRoLm1heChzLGkpLygxMC90aGlzLmNvbmZpZy5zdGFyU2NhbGUpO2NvbnN0IGU9dGhpcy5jdHg7ZS5maWxsU3R5bGU9dGhpcy5jb25maWcuYmFja2dyb3VuZENvbG9yLGUuZmlsbFJlY3QoMCwwLHMsaSk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5zdGFycyl7Y29uc3Qgbj10LngvdC56LG89dC55L3QuejtpZighdGhpcy5jb25maWcud2FycEVmZmVjdCYmKG48LS41fHxuPi41fHxvPC0uNXx8bz4uNSkpY29udGludWU7Y29uc3QgYT10LnNpemUqdGhpcy5zaXplL3QuejtpZighKGE8LjMpKXtpZih0aGlzLmNvbmZpZy5kZXB0aEFscGhhKXtjb25zdCBzPSgxZTMtdC56KS8xZTM7ZS5maWxsU3R5bGU9YHJnYmEoJHt0aGlzLnN0YXJSfSwgJHt0aGlzLnN0YXJHfSwgJHt0aGlzLnN0YXJCfSwgJHtzLnRvU3RyaW5nKCl9KWB9ZWxzZSBlLmZpbGxTdHlsZT10aGlzLmNvbmZpZy5zdGFyQ29sb3I7aWYodGhpcy5jb25maWcud2FycEVmZmVjdCl7ZS5iZWdpblBhdGgoKTtjb25zdCBoPXQueC8odC56K3RoaXMuY29uZmlnLndhcnBFZmZlY3RMZW5ndGgqdGhpcy5jb25maWcuc3BlZWQpLGM9dC55Lyh0LnordGhpcy5jb25maWcud2FycEVmZmVjdExlbmd0aCp0aGlzLmNvbmZpZy5zcGVlZCk7aWYoaDwtLjV8fGg+LjV8fGM8LS41fHxjPi41KWNvbnRpbnVlO2UubW92ZVRvKHMqKG4rLjUpLWEvMixpKihvKy41KS1hLzIpLGUubGluZVRvKHMqKGgrLjUpLWEvMixpKihjKy41KS1hLzIpLGUubGluZVdpZHRoPU1hdGgubWluKGEsdGhpcy5tYXhMaW5lV2lkdGgpLGUubGluZUNhcD10aGlzLmNvbmZpZy51c2VDaXJjbGVzPyJyb3VuZCI6ImJ1dHQiLGUuc3Ryb2tlU3R5bGU9ZS5maWxsU3R5bGUsZS5zdHJva2UoKX1lbHNlIHRoaXMuY29uZmlnLnVzZUNpcmNsZXM/KGUuYmVnaW5QYXRoKCksZS5hcmMocyoobisuNSktYS8yLGkqKG8rLjUpLWEvMixhLzIsMCwyKk1hdGguUEkpLGUuZmlsbCgpKTplLmZpbGxSZWN0KHMqKG4rLjUpLWEvMixpKihvKy41KS1hLzIsYSxhKX19fW1vdmUodCl7Y29uc3Qgcz10aGlzLmNvbmZpZy5zcGVlZCoodC8xMCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5zdGFycylmb3IodC56LT1zO3QuejwxOyl0LnorPTFlMyx0Lng9KE1hdGgucmFuZG9tKCktLjUpKnQueix0Lnk9KE1hdGgucmFuZG9tKCktLjUpKnQuen19bGV0IG8sYSxoO2NvbnN0IGM9dD0+e2h8fChvLmRyYXcobnVsbD09PWE/MTp0LWEpLGE9dCxyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYykpfTtvbm1lc3NhZ2U9KHtkYXRhOntjYW52YXM6dCxjb25maWc6cyxwYXVzZTppfX0pPT57dm9pZCAwIT09dCYmKG89bmV3IG4odCkpLHZvaWQgMCE9PXMmJm8udXBkYXRlKHMpLHZvaWQgMCE9PWkmJihoPWksaHx8KGE9bnVsbCxyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYykpKX19KCk7Cgo=",B="data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6L0M6XFx3ZWItd29ya2VyXFxjb2xvcmZ0LmpzIiwid29ya2VyOi9DOlxcd2ViLXdvcmtlclxcd2FycHNwZWVkLmpzIiwid29ya2VyOi9DOlxcd2ViLXdvcmtlclxcd29ya2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGRlZmF1bHRSR0IgPSB7XG4gIHI6IDI1NSxcbiAgZzogMjU1LFxuICBiOiAyNTUsXG59XG5cbi8vIGRldGVjdFxuXG5jb25zdCBpc0hleCA9IGNvbG9yID0+IGNvbG9yLmNoYXJBdCgwKSA9PT0gXCIjXCIgJiYgY29sb3IubGVuZ3RoID09PSA3XG5jb25zdCBpc1JHQkEgPSBjb2xvciA9PiBjb2xvci5zdGFydHNXaXRoKFwicmdiYVwiKVxuXG4vLyBjb252ZXJ0XG5cbi8vIFwicmdiYSg0NCw0NCw0NCwxKVwiXG5cbmNvbnN0IGhleDJyZ2IgPSBjb2xvciA9PiAoe1xuICByOiBwYXJzZUludChjb2xvci5zdWJzdHIoMSwgMiksIDE2KSxcbiAgZzogcGFyc2VJbnQoY29sb3Iuc3Vic3RyKDMsIDIpLCAxNiksXG4gIGI6IHBhcnNlSW50KGNvbG9yLnN1YnN0cig1LCAyKSwgMTYpLFxufSlcblxuY29uc3QgcmdiYTJyZ2IgPSBjb2xvciA9PiB7XG4gIGNvbnN0IFssIHIsIGcsIGIsIGFdID0gL15cXHMqcmdiYVxccypcXChcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKlxcKVxccyokLy5leGVjKGNvbG9yKVxuICByZXR1cm4ge1xuICAgIHIsXG4gICAgZyxcbiAgICBiLFxuICB9XG59XG5cbmV4cG9ydCBjb25zdCB0b1JHQiA9IGNvbG9yID0+IHtcbiAgaWYgKGlzSGV4KGNvbG9yKSkge1xuICAgIHJldHVybiBoZXgycmdiKGNvbG9yKVxuICB9XG4gIGlmIChpc1JHQkEoY29sb3IpKSB7XG4gICAgcmV0dXJuIHJnYmEycmdiKGNvbG9yKVxuICB9XG5cbiAgcmV0dXJuIGRlZmF1bHRSR0Jcbn1cbiIsImltcG9ydCB7IHRvUkdCIH0gZnJvbSBcIi4vY29sb3JmdFwiXG5cbmNvbnN0IHJhbmRQb3MgPSAoKSA9PiAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAxMDAwXG5cbmNsYXNzIFN0YXIge1xuICBjb25zdHJ1Y3Rvcih4LCB5LCB6KSB7XG4gICAgdGhpcy54ID0geFxuICAgIHRoaXMueSA9IHlcbiAgICB0aGlzLnogPSB6XG4gICAgdGhpcy5zaXplID0gMC41ICsgTWF0aC5yYW5kb20oKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdhcnBTcGVlZCB7XG4gIGNvbmZpZyA9IHt9XG4gIHN0YXJzID0gW11cblxuICBjb25zdHJ1Y3RvcihjYW52YXMpIHtcbiAgICB0aGlzLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIilcbiAgfVxuXG4gIHVwZGF0ZShjb25maWcpIHtcbiAgICAvL0xpbGlDb2RlOiBuIHZ2dnZ2dnZ2dnZ2dnZ2dnZ2dmogbiBuIG4gblxuICAgIGxldCByZXNvbHV0aW9uVXBkYXRlZCA9IGZhbHNlXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoY29uZmlnKSkge1xuICAgICAgaWYgKHRoaXMuY29uZmlnW2tleV0gIT09IHZhbHVlKSB7XG4gICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgY2FzZSBcIndpZHRoXCI6XG4gICAgICAgICAgY2FzZSBcImhlaWdodFwiOlxuICAgICAgICAgIGNhc2UgXCJzdGFyU2NhbGVcIjpcbiAgICAgICAgICAgIHJlc29sdXRpb25VcGRhdGVkID0gdHJ1ZVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICBjYXNlIFwiZGVuc2l0eVwiOlxuICAgICAgICAgICAgY29uc3Qgc3RhckNvdW50ID0gTWF0aC5jZWlsKHZhbHVlICogMTAwMClcbiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBzdGFyQ291bnQgLSB0aGlzLnN0YXJzLmxlbmd0aFxuICAgICAgICAgICAgaWYgKGRpZmYgPiAwKSB7XG4gICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlmZjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhciA9IG5ldyBTdGFyKHJhbmRQb3MoKSwgcmFuZFBvcygpLCAxMDAwICogTWF0aC5yYW5kb20oKSlcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJzLnB1c2goc3RhcilcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5zdGFycy5sZW5ndGggPSBzdGFyQ291bnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSBcInN0YXJDb2xvclwiOlxuICAgICAgICAgICAgY29uc3QgY29sb3IgPSB0b1JHQih2YWx1ZSlcbiAgICAgICAgICAgIHRoaXMuc3RhclIgPSBjb2xvci5yXG4gICAgICAgICAgICB0aGlzLnN0YXJHID0gY29sb3IuZ1xuICAgICAgICAgICAgdGhpcy5zdGFyQiA9IGNvbG9yLmJcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25maWdba2V5XSA9IHZhbHVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJlc29sdXRpb25VcGRhdGVkKSB7XG4gICAgICB0aGlzLnNpemUgPSBNYXRoLm1heCh0aGlzLmNvbmZpZy53aWR0aCwgdGhpcy5jb25maWcuaGVpZ2h0KSAvICgxMCAvIHRoaXMuY29uZmlnLnN0YXJTY2FsZSlcbiAgICAgIHRoaXMubWF4TGluZVdpZHRoID0gdGhpcy5zaXplIC8gMzBcbiAgICB9XG4gIH1cblxuICBkcmF3KHRpbWVEZWx0YSkge1xuICAgIHRoaXMubW92ZSh0aW1lRGVsdGEpXG5cbiAgICBjb25zdCB3aWR0aCA9IHRoaXMuY29uZmlnLndpZHRoXG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5jb25maWcuaGVpZ2h0XG4gICAgdGhpcy5zaXplID0gTWF0aC5tYXgod2lkdGgsIGhlaWdodCkgLyAoMTAgLyB0aGlzLmNvbmZpZy5zdGFyU2NhbGUpXG5cbiAgICBjb25zdCBjdHggPSB0aGlzLmN0eFxuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbmZpZy5iYWNrZ3JvdW5kQ29sb3JcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodClcblxuICAgIGZvciAoY29uc3Qgc3RhciBvZiB0aGlzLnN0YXJzKSB7XG4gICAgICBjb25zdCB4T25EaXNwbGF5ID0gc3Rhci54IC8gc3Rhci56XG4gICAgICBjb25zdCB5T25EaXNwbGF5ID0gc3Rhci55IC8gc3Rhci56XG5cbiAgICAgIGlmICghdGhpcy5jb25maWcud2FycEVmZmVjdCAmJiAoeE9uRGlzcGxheSA8IC0wLjUgfHwgeE9uRGlzcGxheSA+IDAuNSB8fCB5T25EaXNwbGF5IDwgLTAuNSB8fCB5T25EaXNwbGF5ID4gMC41KSlcbiAgICAgICAgY29udGludWVcblxuICAgICAgY29uc3Qgc2l6ZSA9IChzdGFyLnNpemUgKiB0aGlzLnNpemUpIC8gc3Rhci56XG4gICAgICBpZiAoc2l6ZSA8IDAuMykgY29udGludWUgLy9kb24ndCBkcmF3IHZlcnkgc21hbGwgZG90c1xuXG4gICAgICBpZiAodGhpcy5jb25maWcuZGVwdGhBbHBoYSkge1xuICAgICAgICBjb25zdCBhbHBoYSA9ICgxMDAwIC0gc3Rhci56KSAvIDEwMDBcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGByZ2JhKCR7dGhpcy5zdGFyUn0sICR7dGhpcy5zdGFyR30sICR7dGhpcy5zdGFyQn0sICR7YWxwaGEudG9TdHJpbmcoKX0pYFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29uZmlnLnN0YXJDb2xvclxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5jb25maWcud2FycEVmZmVjdCkge1xuICAgICAgICBjdHguYmVnaW5QYXRoKClcbiAgICAgICAgY29uc3QgeDJPbkRpc3BsYXkgPSBzdGFyLnggLyAoc3Rhci56ICsgdGhpcy5jb25maWcud2FycEVmZmVjdExlbmd0aCAqIHRoaXMuY29uZmlnLnNwZWVkKVxuICAgICAgICBjb25zdCB5Mk9uRGlzcGxheSA9IHN0YXIueSAvIChzdGFyLnogKyB0aGlzLmNvbmZpZy53YXJwRWZmZWN0TGVuZ3RoICogdGhpcy5jb25maWcuc3BlZWQpXG5cbiAgICAgICAgaWYgKHgyT25EaXNwbGF5IDwgLTAuNSB8fCB4Mk9uRGlzcGxheSA+IDAuNSB8fCB5Mk9uRGlzcGxheSA8IC0wLjUgfHwgeTJPbkRpc3BsYXkgPiAwLjUpIGNvbnRpbnVlXG5cbiAgICAgICAgY3R4Lm1vdmVUbyh3aWR0aCAqICh4T25EaXNwbGF5ICsgMC41KSAtIHNpemUgLyAyLCBoZWlnaHQgKiAoeU9uRGlzcGxheSArIDAuNSkgLSBzaXplIC8gMilcbiAgICAgICAgY3R4LmxpbmVUbyh3aWR0aCAqICh4Mk9uRGlzcGxheSArIDAuNSkgLSBzaXplIC8gMiwgaGVpZ2h0ICogKHkyT25EaXNwbGF5ICsgMC41KSAtIHNpemUgLyAyKVxuICAgICAgICBjdHgubGluZVdpZHRoID0gTWF0aC5taW4oc2l6ZSwgdGhpcy5tYXhMaW5lV2lkdGgpXG4gICAgICAgIGN0eC5saW5lQ2FwID0gdGhpcy5jb25maWcudXNlQ2lyY2xlcyA/IFwicm91bmRcIiA6IFwiYnV0dFwiXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGN0eC5maWxsU3R5bGVcbiAgICAgICAgY3R4LnN0cm9rZSgpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY29uZmlnLnVzZUNpcmNsZXMpIHtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpXG4gICAgICAgIGN0eC5hcmMod2lkdGggKiAoeE9uRGlzcGxheSArIDAuNSkgLSBzaXplIC8gMiwgaGVpZ2h0ICogKHlPbkRpc3BsYXkgKyAwLjUpIC0gc2l6ZSAvIDIsIHNpemUgLyAyLCAwLCAyICogTWF0aC5QSSlcbiAgICAgICAgY3R4LmZpbGwoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3R4LmZpbGxSZWN0KHdpZHRoICogKHhPbkRpc3BsYXkgKyAwLjUpIC0gc2l6ZSAvIDIsIGhlaWdodCAqICh5T25EaXNwbGF5ICsgMC41KSAtIHNpemUgLyAyLCBzaXplLCBzaXplKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG1vdmUodGltZURlbHRhKSB7XG4gICAgY29uc3Qgc3BlZWQgPSB0aGlzLmNvbmZpZy5zcGVlZCAqICh0aW1lRGVsdGEgLyAxMClcblxuICAgIGZvciAoY29uc3Qgc3RhciBvZiB0aGlzLnN0YXJzKSB7XG4gICAgICBzdGFyLnogLT0gc3BlZWRcbiAgICAgIHdoaWxlIChzdGFyLnogPCAxKSB7XG4gICAgICAgIHN0YXIueiArPSAxMDAwXG4gICAgICAgIHN0YXIueCA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIHN0YXIuelxuICAgICAgICBzdGFyLnkgPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiBzdGFyLnpcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBXYXJwU3BlZWQgZnJvbSBcIi4vd2FycHNwZWVkXCJcblxubGV0IHdhcnBzcGVlZFxubGV0IGxhc3RUaW1lXG5sZXQgcGF1c2VkXG5cbmNvbnN0IHRpY2sgPSB0aW1lID0+IHtcbiAgaWYgKHBhdXNlZCkgcmV0dXJuXG4gIHdhcnBzcGVlZC5kcmF3KGxhc3RUaW1lID09PSBudWxsID8gMSA6IHRpbWUgLSBsYXN0VGltZSlcbiAgbGFzdFRpbWUgPSB0aW1lXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKVxufVxuXG5vbm1lc3NhZ2UgPSAoeyBkYXRhOiB7IGNhbnZhcywgY29uZmlnLCBwYXVzZSB9IH0pID0+IHtcbiAgaWYgKGNhbnZhcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgd2FycHNwZWVkID0gbmV3IFdhcnBTcGVlZChjYW52YXMpXG4gIH1cblxuICBpZiAoY29uZmlnICE9PSB1bmRlZmluZWQpIHtcbiAgICB3YXJwc3BlZWQudXBkYXRlKGNvbmZpZylcbiAgfVxuXG4gIGlmIChwYXVzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcGF1c2VkID0gcGF1c2VcbiAgICBpZiAoIXBhdXNlZCkge1xuICAgICAgbGFzdFRpbWUgPSBudWxsXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljaylcbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJkZWZhdWx0UkdCIiwiciIsImciLCJiIiwidG9SR0IiLCJjb2xvciIsImNoYXJBdCIsImxlbmd0aCIsImlzSGV4IiwicGFyc2VJbnQiLCJzdWJzdHIiLCJoZXgycmdiIiwic3RhcnRzV2l0aCIsImlzUkdCQSIsImEiLCJleGVjIiwicmdiYTJyZ2IiLCJyYW5kUG9zIiwiTWF0aCIsInJhbmRvbSIsIlN0YXIiLCJbb2JqZWN0IE9iamVjdF0iLCJ4IiwieSIsInoiLCJ0aGlzIiwic2l6ZSIsIldhcnBTcGVlZCIsImNhbnZhcyIsImN0eCIsImdldENvbnRleHQiLCJjb25maWciLCJyZXNvbHV0aW9uVXBkYXRlZCIsImtleSIsInZhbHVlIiwiT2JqZWN0IiwiZW50cmllcyIsInN0YXJDb3VudCIsImNlaWwiLCJkaWZmIiwic3RhcnMiLCJpIiwic3RhciIsInB1c2giLCJzdGFyUiIsInN0YXJHIiwic3RhckIiLCJtYXgiLCJ3aWR0aCIsImhlaWdodCIsInN0YXJTY2FsZSIsIm1heExpbmVXaWR0aCIsInRpbWVEZWx0YSIsIm1vdmUiLCJmaWxsU3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJmaWxsUmVjdCIsInhPbkRpc3BsYXkiLCJ5T25EaXNwbGF5Iiwid2FycEVmZmVjdCIsImRlcHRoQWxwaGEiLCJhbHBoYSIsInRvU3RyaW5nIiwic3RhckNvbG9yIiwiYmVnaW5QYXRoIiwieDJPbkRpc3BsYXkiLCJ3YXJwRWZmZWN0TGVuZ3RoIiwic3BlZWQiLCJ5Mk9uRGlzcGxheSIsIm1vdmVUbyIsImxpbmVUbyIsImxpbmVXaWR0aCIsIm1pbiIsImxpbmVDYXAiLCJ1c2VDaXJjbGVzIiwic3Ryb2tlU3R5bGUiLCJzdHJva2UiLCJhcmMiLCJQSSIsImZpbGwiLCJ3YXJwc3BlZWQiLCJsYXN0VGltZSIsInBhdXNlZCIsInRpY2siLCJ0aW1lIiwiZHJhdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm9ubWVzc2FnZSIsImRhdGEiLCJwYXVzZSIsInVuZGVmaW5lZCIsInVwZGF0ZSJdLCJtYXBwaW5ncyI6InlCQUFBLE1BQU1BLEVBQWEsQ0FDakJDLEVBQUcsSUFDSEMsRUFBRyxJQUNIQyxFQUFHLEtBMkJRQyxFQUFRQyxHQXRCUEEsQ0FBQUEsR0FBNkIsTUFBcEJBLEVBQU1DLE9BQU8sSUFBK0IsSUFBakJELEVBQU1FLE9BdUJsREMsQ0FBTUgsR0FoQklBLENBQUFBLEtBQ2RKLEVBQUdRLFNBQVNKLEVBQU1LLE9BQU8sRUFBRyxHQUFJLElBQ2hDUixFQUFHTyxTQUFTSixFQUFNSyxPQUFPLEVBQUcsR0FBSSxJQUNoQ1AsRUFBR00sU0FBU0osRUFBTUssT0FBTyxFQUFHLEdBQUksTUFjdkJDLENBQVFOLEdBdkJKQSxDQUFBQSxHQUFTQSxFQUFNTyxXQUFXLFFBeUJuQ0MsQ0FBT1IsR0FiSUEsQ0FBQUEsSUFDZixPQUFTSixFQUFHQyxFQUFHQyxFQUFHVyxHQUFLLHFFQUFxRUMsS0FBS1YsR0FDakcsTUFBTyxDQUNMSixFQUFBQSxFQUNBQyxFQUFBQSxFQUNBQyxFQUFBQSxJQVNPYSxDQUFTWCxHQUdYTCxFQ3BDSGlCLEVBQVUsSUFBOEIsS0FBdkJDLEtBQUtDLFNBQVcsSUFFdkMsTUFBTUMsRUFDSkMsWUFBWUMsRUFBR0MsRUFBR0MsR0FDaEJDLEtBQUtILEVBQUlBLEVBQ1RHLEtBQUtGLEVBQUlBLEVBQ1RFLEtBQUtELEVBQUlBLEVBQ1RDLEtBQUtDLEtBQU8sR0FBTVIsS0FBS0MsVUFJWixNQUFNUSxFQUNuQk4sT0FBUyxHQUNUQSxNQUFRLEdBRVJBLFlBQVlPLEdBQ1ZILEtBQUtJLElBQU1ELEVBQU9FLFdBQVcsTUFHL0JULE9BQU9VLEdBRUwsSUFBSUMsR0FBb0IsRUFDeEIsSUFBSyxNQUFPQyxFQUFLQyxLQUFVQyxPQUFP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",Q=!1,function(I){return i=i||C(c,B,Q),new Worker(i,I)});AFRAME.registerComponent("warpspeed",{schema:{width:{type:"number",default:512},height:{type:"number",default:512},speed:{type:"number",default:.7},density:{type:"number",default:25.7},useCircles:{type:"boolean",default:!0},depthAlpha:{type:"boolean",default:!0},warpEffect:{type:"boolean",default:!0},warpEffectLength:{type:"number",default:5},starScale:{type:"number",default:3},backgroundColor:{type:"color",default:"#100a1a"},starColor:{type:"color",default:"#ffffff"},useWorker:{type:"boolean",default:!1}},update(I){(I.useWorker!==this.data.useWorker||I.width!==this.data.width||I.height!==this.data.height)&&(void 0!==I.useWorker&&this.destroyCanvasMap(),this.createCanvasMap(),this.initWarpspeed()),this.workerInUse()?this.worker.postMessage({config:this.data,pause:!this.isPlaying}):this.warpspeed.update(this.data)},initWarpspeed(){if(this.el.removeState("worker"),this.data.useWorker)try{const I=this.canvas.transferControlToOffscreen();return this.worker=new L,this.worker.postMessage({canvas:I},[I]),void this.el.addState("worker")}catch(I){console.error(I)}this.warpspeed=new g(this.canvas)},createCanvasMap(){this.canvas=document.createElement("canvas"),this.canvas.width=this.data.width,this.canvas.height=this.data.height,this.canvasMap=new THREE.Texture(this.canvas),this.el.getObject3D("mesh").material.map=this.canvasMap},destroyCanvasMap(){this.workerInUse()?(this.worker.terminate(),delete this.worker):delete this.warpspeed,this.canvasMap.dispose(),delete this.canvas},play(){this.workerInUse()&&this.worker.postMessage({pause:!1})},pause(){this.workerInUse()&&this.worker.postMessage({pause:!0})},workerInUse(){return this.el.is("worker")},tick(I,s){this.workerInUse()||this.warpspeed.draw(s),this.canvasMap.needsUpdate=!0}});